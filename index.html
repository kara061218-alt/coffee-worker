<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yurucafe - è©±é¡ŒãŒå…ˆã«ç½®ã‹ã‚Œã¦ã„ã‚‹ã‚«ãƒ•ã‚§</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700&display=swap');
        
        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            background-color: #000000;
            /* ãƒ¡ã‚¤ãƒ³æ–‡å­—è‰²ã‚’ã‚ˆã‚Šæ˜ã‚‹ã„ç™½ã«å¤‰æ›´ */
            color: #FFFFFF;
        }

        .finder-card {
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .glass-nav {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            border-top: 1px solid #333;
        }

        /* ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .view-transition {
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ç”»åƒãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— */
        img {
            background-color: #1a1a1a;
        }

        /* å¯èª­æ€§å‘ä¸Šã®ãŸã‚ã®ãƒ†ã‚­ã‚¹ãƒˆã‚·ãƒ£ãƒ‰ã‚¦ï¼ˆç”»åƒä¸Šã®æ–‡å­—ç”¨ï¼‰ */
        .text-shadow-sm {
            text-shadow: 0 2px 4px rgba(0,0,0,0.8);
        }
    </style>
</head>
<body class="max-w-md mx-auto min-h-screen shadow-2xl border-x border-zinc-900 relative overflow-x-hidden">

    <!-- Header / Branding -->
    <header class="pt-10 px-6 pb-4">
        <h1 class="text-2xl font-bold tracking-widest text-white">Yurucafe</h1>
        <p class="text-[11px] text-zinc-300 mt-2 italic tracking-tighter font-medium">ã€ŒäººãŒé›†ã¾ã‚‹ã‚«ãƒ•ã‚§ã€ã§ã¯ãªãã€Œè©±é¡ŒãŒå…ˆã«ç½®ã‹ã‚Œã¦ã„ã‚‹ã‚«ãƒ•ã‚§ã€</p>
    </header>

    <!-- Main View Area -->
    <main id="main-content" class="px-5 pb-32">
        <!-- Views will be injected here -->
    </main>

    <!-- Navigation -->
    <nav class="fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-md h-20 glass-nav flex items-center justify-around px-8 z-50">
        <button onclick="switchView('finder')" class="flex flex-col items-center gap-1 group">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-zinc-500 group-[.active]:text-white" id="nav-finder-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
            <span class="text-[10px] text-zinc-500 group-[.active]:text-white font-bold tracking-widest">FIND</span>
        </button>
        
        <button onclick="switchView('likes')" class="relative flex flex-col items-center gap-1 group">
            <div id="like-badge" class="hidden absolute -top-1 -right-1 w-2 h-2 bg-rose-500 rounded-full"></div>
            <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 text-zinc-500 group-[.active]:text-rose-500" id="nav-likes-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
            <span class="text-[10px] text-zinc-500 group-[.active]:text-white font-bold tracking-widest">STOCKS</span>
        </button>
    </nav>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-24 left-1/2 -translate-x-1/2 bg-white text-black font-bold px-8 py-3 rounded-full text-xs opacity-0 pointer-events-none transition-opacity duration-300 z-[60] shadow-xl">
        è¦šãˆã¦ãŠãã¾ã—ãŸ
    </div>

    <script>
        const cafes = [
            { 
                id: 1, name: "Cafe Lento", area: "ä¸‹åŒ—æ²¢", topic: "æœ€è¿‘èª­ã‚“ã æœ¬ã®è©±", time: "14:00 - 17:00", 
                img: "https://images.unsplash.com/photo-1501339847302-ac426a4a7cbb?auto=format&fit=crop&q=80&w=800", 
                note: "å¥¥ã®å¤§ããªæœ¨ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã€é™ã‹ã«ã‚«ãƒ¼ãƒ‰ãŒç½®ã‹ã‚Œã¦ã„ã¾ã™ã€‚" 
            },
            { 
                id: 2, name: "Komorebi Tea", area: "å‰ç¥¥å¯º", topic: "ãƒ•ã‚£ãƒ«ãƒ ã‚«ãƒ¡ãƒ©ã®é­…åŠ›", time: "10:00 - 12:00", 
                img: "https://images.unsplash.com/photo-1445116572660-236099ec97a0?auto=format&fit=crop&q=80&w=800", 
                note: "ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®ä¸€ç•ªç«¯ã€‚å°ã•ãªä¸€è¼ªæŒ¿ã—ã®æ¨ªãŒè©±é¡Œã®å ´æ‰€ã§ã™ã€‚" 
            },
            { 
                id: 3, name: "Standard Brew", area: "ä¸­ç›®é»’", topic: "é€±æœ«ã«è¡ŒããŸã„å±•ç¤ºä¼š", time: "18:00 - 20:00", 
                img: "https://images.unsplash.com/photo-1525610553991-2bede1a236e2?auto=format&fit=crop&q=80&w=800", 
                note: "ãƒ†ãƒ©ã‚¹å´ã®ãƒ™ãƒ³ãƒã‚·ãƒ¼ãƒˆã€‚å¤œã®å…‰ã®ä¸­ã§è©±é¡ŒãŒå¾…ã£ã¦ã„ã¾ã™ã€‚" 
            },
            { 
                id: 4, name: "Yuki no Hi", area: "ä»£ã€…æœ¨å…¬åœ’", topic: "ç„šãç«ã‚’çœºã‚ã‚‹ã‚­ãƒ£ãƒ³ãƒ—", time: "15:00 - 18:00", 
                img: "https://images.unsplash.com/photo-1511920170033-f8396924c348?auto=format&fit=crop&q=80&w=800", 
                note: "åº—å†…ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã®è¿‘ãã€‚ç©ã‚„ã‹ãªéŸ³æ¥½ã¨ã¨ã‚‚ã«ã€‚" 
            }
        ];

        let likedIds = JSON.parse(localStorage.getItem('yurucafe_likes') || '[]');

        function switchView(view) {
            const finderIcon = document.getElementById('nav-finder-icon').parentElement;
            const likesIcon = document.getElementById('nav-likes-icon').parentElement;

            if (view === 'finder') {
                finderIcon.classList.add('active');
                likesIcon.classList.remove('active');
                renderFinder();
            } else {
                finderIcon.classList.remove('active');
                likesIcon.classList.add('active');
                renderLikes();
            }
            window.scrollTo(0, 0);
        }

        function renderFinder() {
            const content = document.getElementById('main-content');
            content.innerHTML = `
                <div class="view-transition">
                    <p class="text-[12px] text-zinc-200 mb-8 leading-relaxed tracking-widest font-medium">
                        æ°—ã«ãªã‚‹ãƒˆãƒ”ãƒƒã‚¯ã‚’è¦‹ã¤ã‘ãŸã‚‰ã€<br>
                        ã€ŒğŸ¤ã€ã§è¦šãˆã¦ãŠãã ã‘ã€‚
                    </p>
                    <div class="space-y-10">
                        ${cafes.map(cafe => `
                            <div class="finder-card relative">
                                <div class="relative overflow-hidden rounded-[2rem] aspect-[4/5] bg-zinc-900 shadow-2xl">
                                    <img src="${cafe.img}" alt="${cafe.name}" 
                                         class="w-full h-full object-cover opacity-70" 
                                         onerror="this.src='https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?auto=format&fit=crop&q=80&w=800'">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"></div>
                                    
                                    <div class="absolute bottom-8 left-8 right-8 text-white text-shadow-sm">
                                        <div class="flex items-center gap-2 mb-3">
                                            <span class="text-[10px] bg-white/20 backdrop-blur-md px-3 py-1 rounded-full border border-white/30 tracking-widest uppercase font-bold text-white">${cafe.area}</span>
                                            <span class="text-[10px] text-zinc-100 font-bold">${cafe.time} é ƒ</span>
                                        </div>
                                        <h3 class="text-xl font-bold tracking-tight mb-1">${cafe.topic}</h3>
                                        <p class="text-[11px] text-zinc-200 tracking-widest uppercase font-medium">${cafe.name}</p>
                                    </div>
                                </div>
                                
                                <button onclick="toggleLike(${cafe.id})" class="absolute top-6 right-6 w-14 h-14 flex items-center justify-center bg-black/50 backdrop-blur-xl rounded-full border border-white/20 shadow-lg transition-transform active:scale-90">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 ${likedIds.includes(cafe.id) ? 'fill-rose-500 text-rose-500' : 'text-white'}" id="like-icon-${cafe.id}" fill="${likedIds.includes(cafe.id) ? 'currentColor' : 'none'}" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                    </svg>
                                </button>
                            </div>
                        `).join('')}
                    </div>
                    <div class="py-20 text-center">
                        <p class="text-[10px] text-zinc-600 font-bold tracking-[0.5em]">END OF LIST</p>
                    </div>
                </div>
            `;
        }

        function renderLikes() {
            const content = document.getElementById('main-content');
            const likedCafes = cafes.filter(c => likedIds.includes(c.id));

            if (likedCafes.length === 0) {
                content.innerHTML = `
                    <div class="view-transition flex flex-col items-center justify-center py-32 text-center">
                        <div class="w-16 h-16 bg-zinc-900 rounded-full flex items-center justify-center mb-6 border border-zinc-800">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-zinc-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </div>
                        <p class="text-zinc-300 text-sm tracking-widest leading-loose font-medium">ã‚¹ãƒˆãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹<br>è©±é¡Œã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
                        <button onclick="switchView('finder')" class="mt-8 text-[11px] font-bold text-white border-b-2 border-white pb-1 tracking-[0.2em]">
                            è©±é¡Œã‚’æ¢ã—ã«ã„ã
                        </button>
                    </div>
                `;
                return;
            }

            content.innerHTML = `
                <div class="view-transition">
                    <h2 class="text-xl font-bold text-white mb-2 tracking-widest">STOCKS</h2>
                    <p class="text-[11px] text-zinc-300 mb-10 leading-relaxed tracking-widest font-medium">
                        è©±é¡ŒãŒç½®ã‹ã‚Œã¦ã„ã‚‹æ™‚é–“ã§ã™ã€‚<br>
                        äºˆç´„ä¸è¦ã§ã€å¥½ããªæ™‚ã«ç«‹ã¡å¯„ã‚Œã¾ã™ã€‚
                    </p>

                    <div class="space-y-16">
                        ${likedCafes.map(cafe => `
                            <div class="flex flex-col gap-6">
                                <div class="flex gap-5 items-start">
                                    <div class="w-24 h-24 rounded-2xl overflow-hidden bg-zinc-900 shadow-lg flex-shrink-0 border border-zinc-800">
                                        <img src="${cafe.img}" class="w-full h-full object-cover opacity-90">
                                    </div>
                                    <div class="flex-1">
                                        <h3 class="font-bold text-white text-base leading-snug">${cafe.topic}</h3>
                                        <p class="text-[11px] text-zinc-400 mt-1 tracking-widest uppercase font-bold">${cafe.name}</p>
                                        <div class="flex flex-wrap gap-2 mt-3">
                                            <span class="text-[9px] bg-zinc-800 text-white px-2.5 py-1 rounded-md border border-zinc-700 font-bold tracking-widest uppercase">${cafe.area}</span>
                                            <span class="text-[9px] bg-zinc-800 text-white px-2.5 py-1 rounded-md border border-zinc-700 font-bold tracking-widest uppercase">${cafe.time}</span>
                                        </div>
                                    </div>
                                    <button onclick="toggleLike(${cafe.id})" class="p-1">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 fill-rose-500 text-rose-500" viewBox="0 0 24 24">
                                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                        </svg>
                                    </button>
                                </div>
                                
                                <div class="bg-zinc-900 border border-zinc-800 p-5 rounded-2xl relative overflow-hidden">
                                    <div class="absolute left-0 top-0 bottom-0 w-1 bg-zinc-600"></div>
                                    <p class="text-[13px] text-zinc-100 leading-relaxed italic font-medium">
                                        ã€Œ${cafe.note}ã€
                                    </p>
                                    <div class="mt-5 pt-4 border-t border-zinc-800 flex items-center justify-between text-[9px] text-zinc-400 uppercase tracking-[0.2em] font-bold">
                                        <span>No Booking Required</span>
                                        <span>Stay as long as you like</span>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="mt-20 p-8 bg-zinc-900 rounded-3xl border border-zinc-800 text-center">
                        <p class="text-[11px] text-zinc-200 leading-loose tracking-[0.1em] font-medium">
                            ã„ã¤è¡Œã£ã¦ã‚‚ã€ã„ã¤å¸°ã£ã¦ã‚‚å¤§ä¸ˆå¤«ã€‚<br>
                            ãã®è©±é¡Œã‚’ã€ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã§ã€‚
                        </p>
                    </div>
                </div>
            `;
        }

        function toggleLike(id) {
            const index = likedIds.indexOf(id);
            const isAdding = index === -1;
            
            if (isAdding) {
                likedIds.push(id);
                showToast("STOCKED ğŸ¤");
            } else {
                likedIds.splice(index, 1);
            }

            localStorage.setItem('yurucafe_likes', JSON.stringify(likedIds));
            updateBadge();
            
            const currentView = document.getElementById('nav-finder-icon').parentElement.classList.contains('active') ? 'finder' : 'likes';
            if (currentView === 'finder') {
                renderFinder();
            } else {
                renderLikes();
            }
        }

        function updateBadge() {
            const badge = document.getElementById('like-badge');
            if (likedIds.length > 0) {
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.innerText = message;
            toast.style.opacity = '1';
            setTimeout(() => {
                toast.style.opacity = '0';
            }, 2000);
        }

        window.onload = () => {
            switchView('finder');
            updateBadge();
        };
    </script>
</body>
</html>
